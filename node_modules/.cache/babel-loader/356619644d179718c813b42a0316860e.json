{"ast":null,"code":"var _jsxFileName = \"/home/luismsandoval/projects/courses/code301/can-of-books-pair/can-of-books-frontend/src/BestBooks.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Image from 'react-bootstrap/Image';\nimport Button from 'react-bootstrap/Button';\nimport BookFormModal from './BookFormModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.displayCreateForm = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.hideCreateForm = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.updateFilteredBooks = filteredBooks => {\n      this.setState({\n        books: filteredBooks\n      });\n    };\n\n    this.handleBookCreate = async newBookInfo => {\n      const response = await axios.post(`${process.env.REACT_APP_SERVER}/books`, newBookInfo); // console.log(response.data);\n\n      this.setState({\n        books: [...this.state.books, response.data]\n      }); // this.props.updateCatsArray(response.data);\n    };\n\n    this.handleBookDelete = async (event, bookToBeDeleted) => {\n      console.log('book to be deleted: ', bookToBeDeleted);\n      const filteredbooks = this.state.books.filter(book => book._id !== bookToBeDeleted);\n      this.updateFilteredBooks(filteredbooks);\n      await axios.delete(`${process.env.REACT_APP_SERVER}/books/${bookToBeDeleted}`);\n      console.log(this.state.books.length);\n    };\n\n    this.state = {\n      books: [],\n      showModal: false\n    };\n  }\n\n  async fetchBooks() {\n    let apiUrl = `${process.env.REACT_APP_SERVER}/books`;\n\n    try {\n      const response = await axios.get(apiUrl);\n      this.setState({\n        books: response.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  /* TODO: Make a GET request to your API to fetch all the books from the database  */\n  async componentDidMount() {\n    this.fetchBooks();\n  }\n\n  render() {\n    /* TODO: render all the books in a Carousel */\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Essential Lifelong Learning & Formation Shelf\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.displayCreateForm,\n        children: \"Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BookFormModal, {\n        showModal: this.state.showModal,\n        hideCreateForm: this.hideCreateForm,\n        handleBookCreate: this.handleBookCreate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), this.state.books.length ? /*#__PURE__*/_jsxDEV(Carousel, {\n        variant: \"dark\",\n        children: this.state.books.map(book => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              src: \"https://via.placeholder.com/150\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: book.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Book, {\n                books: this.state.books,\n                book: book // handleUpdateBook={this.handleUpdateBook}\n                ,\n                updateFilteredBooks: this.updateFilteredBooks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this)]\n          }, book._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }, this)\n        }, void 0, false))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No Books Found \\uD83D\\uDCA9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nclass Book extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleBookDelete = async (event, bookToBeDeleted) => {\n      console.log('book to be deleted: ', bookToBeDeleted);\n      const filteredbooks = this.state.books.filter(book => book._id !== bookToBeDeleted);\n      this.updateFilteredBooks(filteredbooks);\n      await axios.delete(`${process.env.REACT_APP_SERVER}/books/${bookToBeDeleted}`);\n      console.log(this.state.books.length);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: event => this.handleDeleteBook(event, this.state.book._id),\n        children: \"Remove Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default BestBooks;","map":{"version":3,"names":["React","axios","Carousel","Image","Button","BookFormModal","BestBooks","Component","constructor","props","displayCreateForm","setState","showModal","hideCreateForm","updateFilteredBooks","filteredBooks","books","handleBookCreate","newBookInfo","response","post","process","env","REACT_APP_SERVER","state","data","handleBookDelete","event","bookToBeDeleted","console","log","filteredbooks","filter","book","_id","delete","length","fetchBooks","apiUrl","get","error","componentDidMount","render","map","title","description","Book","handleDeleteBook"],"sources":["/home/luismsandoval/projects/courses/code301/can-of-books-pair/can-of-books-frontend/src/BestBooks.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Image from 'react-bootstrap/Image';\nimport Button from 'react-bootstrap/Button';\nimport BookFormModal from './BookFormModal';\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      showModal: false,\n    }\n  }\n  async fetchBooks() {\n    let apiUrl = `${process.env.REACT_APP_SERVER}/books`;\n    try {\n      const response = await axios.get(apiUrl);\n      this.setState({ books: response.data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  displayCreateForm = () => {\n    this.setState({\n      showModal: true,\n    })\n  }\n\n  hideCreateForm = () => {\n    this.setState({\n      showModal: false,\n    })\n  }\n\n  updateFilteredBooks = (filteredBooks) => {\n    this.setState({\n      books: filteredBooks\n    })\n  }\n\n\n  /* TODO: Make a GET request to your API to fetch all the books from the database  */\n\n  async componentDidMount() {\n    this.fetchBooks();\n  }\n\n  handleBookCreate = async (newBookInfo) => {\n    const response = await axios.post(`${process.env.REACT_APP_SERVER}/books`, newBookInfo);\n    // console.log(response.data);\n    this.setState({ books: [...this.state.books, response.data] })\n    // this.props.updateCatsArray(response.data);\n  }\n\n  handleBookDelete = async (event, bookToBeDeleted) => {\n    console.log('book to be deleted: ', bookToBeDeleted);\n    const filteredbooks = this.state.books.filter(book => book._id !== bookToBeDeleted);\n    this.updateFilteredBooks(filteredbooks);\n    await axios.delete(`${process.env.REACT_APP_SERVER}/books/${bookToBeDeleted}`);\n    console.log(this.state.books.length);\n  }\n\n  render() {\n\n    /* TODO: render all the books in a Carousel */\n\n    return (\n      <>\n        <h2>My Essential Lifelong Learning &amp; Formation Shelf</h2>\n        <Button onClick={this.displayCreateForm}>Add Book</Button>\n        <BookFormModal\n          showModal={this.state.showModal}\n          hideCreateForm={this.hideCreateForm}\n          handleBookCreate={this.handleBookCreate} />\n\n        {this.state.books.length ?\n          <Carousel variant='dark'>\n            {\n              this.state.books.map(book => (\n                <>\n                \n                  <Carousel.Item key={book._id}>\n                    <Image src=\"https://via.placeholder.com/150\" />\n                    <Carousel.Caption>\n                      <h3>{book.title}</h3>\n                      <p>{book.description}</p>\n                    <Book\n                      books={this.state.books}\n                      book={book}\n                      // handleUpdateBook={this.handleUpdateBook}\n                      updateFilteredBooks={this.updateFilteredBooks} />\n                      {/* {this.state.books.length && this.state.books.map(book => (\n                      <div key={book._id}>\n                      <Book\n                      books={this.state.books}\n                      book={book}\n                      // handleUpdateBook={this.handleUpdateBook}\n                      updateFilteredBooks={this.updateFilteredBooks} />\n                      </div>\n                    ))} */}\n                    </Carousel.Caption>\n                  </Carousel.Item>\n                </>\n              ))\n            }\n          </Carousel> : (\n            <h3>No Books Found ðŸ’©</h3>\n          )\n        }\n      </>\n    )\n  }\n}\n\nclass Book extends React.Component {\n\n  handleBookDelete = async (event, bookToBeDeleted) => {\n    console.log('book to be deleted: ', bookToBeDeleted);\n    const filteredbooks = this.state.books.filter(book => book._id !== bookToBeDeleted);\n    this.updateFilteredBooks(filteredbooks);\n    await axios.delete(`${process.env.REACT_APP_SERVER}/books/${bookToBeDeleted}`);\n    console.log(this.state.books.length);\n  }\n\n\n  render() {\n    return (\n      <>\n        {/* { this.state.book._id } in { this.state.book.name } */}\n        < Button onClick={event => this.handleDeleteBook(event, this.state.book._id)} >Remove Book</Button >\n        {/* <Button onClick={event => this.props.handleUpdateCat(this.props.cat, event)} >Update this Cat!</Button> */}\n      </>\n    )\n  }\n}\n\nexport default BestBooks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}