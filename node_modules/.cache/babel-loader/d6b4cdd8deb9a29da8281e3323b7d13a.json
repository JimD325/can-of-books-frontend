{"ast":null,"code":"var _jsxFileName = \"/home/jimd325/projects/courses/301n26/labs/books/front/can-of-books-frontend/src/BestBooks.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Image from 'react-bootstrap/Image';\nimport Button from 'react-bootstrap/Button';\nimport BookFormModal from './BookFormModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.displayCreateForm = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.hideCreateForm = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.handleBookCreate = async newBookInfo => {\n      const response = await axios.post(`http://localhost:3001/books`, newBookInfo); // console.log(response.data);\n\n      this.setState({\n        books: [...this.state.books, response.data]\n      });\n      console.log(this.state); // this.props.updateCatsArray(response.data);\n    };\n\n    this.handleBookDelete = async (event, catToBeDeleted) => {\n      console.log('Cat to be deleted: ', catToBeDeleted);\n      const filteredCats = this.props.books.filter(book => book._id !== catToBeDeleted);\n      this.props.updateFilteredCats(filteredCats);\n      await axios.delete(`http://localhost:3001/cats/${catToBeDeleted}`);\n    };\n\n    this.state = {\n      books: [],\n      showModal: false\n    };\n  }\n\n  async fetchBooks() {\n    let apiUrl = `http://localhost:3001/books`;\n\n    try {\n      const response = await axios.get(apiUrl);\n      this.setState({\n        books: response.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  /* TODO: Make a GET request to your API to fetch all the books from the database  */\n  async componentDidMount() {\n    this.fetchBooks();\n  }\n\n  render() {\n    console.log(this.state.books.length);\n    console.log(this.state.books);\n    /* TODO: render all the books in a Carousel */\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Essential Lifelong Learning & Formation Shelf\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.displayCreateForm,\n        children: \"Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BookFormModal, {\n        showModal: this.state.showModal,\n        hideCreateForm: this.hideCreateForm,\n        handleBookCreate: this.handleBookCreate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), this.state.books.length ? /*#__PURE__*/_jsxDEV(Carousel, {\n        variant: \"dark\",\n        children: this.state.books.map(value => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://via.placeholder.com/150\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: value.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: value.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleBookDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 19\n          }, this)]\n        }, value._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No Books Found \\uD83D\\uDCA9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default BestBooks;","map":{"version":3,"names":["React","axios","Carousel","Image","Button","BookFormModal","BestBooks","Component","constructor","props","displayCreateForm","setState","showModal","hideCreateForm","handleBookCreate","newBookInfo","response","post","books","state","data","console","log","handleBookDelete","event","catToBeDeleted","filteredCats","filter","book","_id","updateFilteredCats","delete","fetchBooks","apiUrl","get","error","componentDidMount","render","length","map","value","title","description"],"sources":["/home/jimd325/projects/courses/301n26/labs/books/front/can-of-books-frontend/src/BestBooks.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Image from 'react-bootstrap/Image';\nimport Button from 'react-bootstrap/Button';\nimport BookFormModal from './BookFormModal';\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      showModal: false,\n    }\n  }\n  async fetchBooks() {\n    let apiUrl = `http://localhost:3001/books`;\n    try {\n      const response = await axios.get(apiUrl);\n      this.setState({ books: response.data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  displayCreateForm = () => {\n    this.setState({\n      showModal: true,\n    })\n  }\n\n  hideCreateForm = () => {\n    this.setState({\n      showModal: false,\n    })\n  }\n  \n  /* TODO: Make a GET request to your API to fetch all the books from the database  */\n\n  async componentDidMount() {\n    this.fetchBooks();\n  }\n\n  handleBookCreate = async (newBookInfo) => {\n    const response = await axios.post(`http://localhost:3001/books`, newBookInfo);\n    // console.log(response.data);\n    this.setState({ books: [...this.state.books, response.data] })\n    console.log(this.state);\n    // this.props.updateCatsArray(response.data);\n  }\n\n  handleBookDelete = async (event, catToBeDeleted) => {\n    console.log('Cat to be deleted: ', catToBeDeleted);\n    const filteredCats = this.props.books.filter(book => book._id !== catToBeDeleted);\n    this.props.updateFilteredCats(filteredCats);\n    await axios.delete(`http://localhost:3001/cats/${catToBeDeleted}`);\n  }\n\n  render() {\n    console.log(this.state.books.length);\n    console.log(this.state.books);\n    /* TODO: render all the books in a Carousel */\n\n    return (\n      <>\n        <h2>My Essential Lifelong Learning &amp; Formation Shelf</h2>\n        <Button onClick={this.displayCreateForm}>Add Book</Button>\n        <BookFormModal \n        showModal = {this.state.showModal}\n        hideCreateForm = {this.hideCreateForm}\n        handleBookCreate ={this.handleBookCreate}/>\n        \n        {this.state.books.length ?\n          <Carousel variant='dark'>\n            {\n              this.state.books.map(value => (\n                <Carousel.Item key={value._id}>\n                  <Image src=\"https://via.placeholder.com/150\"/>\n                  <Carousel.Caption>\n                    <h3>{value.title}</h3>\n                    <p>{value.description}</p>\n                  </Carousel.Caption>\n                  <Button onClick={this.handleBookDelete}>Delete</Button>\n                </Carousel.Item>\n              ))\n            }\n          </Carousel> : (\n            <h3>No Books Found ðŸ’©</h3>\n          )\n        }\n      </>\n    )\n  }\n}\n\nexport default BestBooks;"],"mappings":"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"},"metadata":{},"sourceType":"module"}